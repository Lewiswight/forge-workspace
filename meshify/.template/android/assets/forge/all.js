/*! Copyright 2011 Trigger Corp. All rights reserved. */
(function(){var l={};var g={};l.config={modules:{logging:{level:"DEBUG"}}};l.config.uuid="UUID_HERE";g.listeners={};var c={};var f=[];var e=null;var j=false;var m=function(){if(f.length>0){if(!g.debug||window.catalystConnected){j=true;while(f.length>0){var n=f.shift();if(n[0]=="logging.log"){console.log(n[1].message)}g.priv.call.apply(g.priv,n)}j=false}else{e=setTimeout(m,500)}}};g.priv={call:function(u,t,s,o){if((!g.debug||window.catalystConnected||u==="internal.showDebugWarning")&&(f.length==0||j)){var n=l.tools.UUID();var q=true;if(u==="button.onClicked.addListener"||u==="message.toFocussed"){q=false}if(s||o){c[n]={success:s,error:o,onetime:q}}var p={callid:n,method:u,params:t};g.priv.send(p);if(window._forgeDebug){try{p.start=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiRequest(p)}catch(r){}}}else{f.push(arguments);if(!e){e=setTimeout(m,500)}}},send:function(n){throw new Error("Forge error: missing bridge to privileged code")},receive:function(n){if(n.callid){if(typeof c[n.callid]===undefined){l.log("Nothing stored for call ID: "+n.callid)}var p=c[n.callid];var o=(typeof n.content==="undefined"?null:n.content);if(p&&p[n.status]){p[n.status](n.content)}if(p&&p.onetime){delete c[n.callid]}if(window._forgeDebug){try{n.end=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiResponse(n)}catch(q){}}}else{if(n.event){if(g.listeners[n.event]){g.listeners[n.event].forEach(function(r){if(n.params){r(n.params)}else{r()}})}if(g.listeners["*"]){g.listeners["*"].forEach(function(r){if(n.params){r(n.event,n.params)}else{r(n.event)}})}if(window._forgeDebug){try{n.start=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiEvent(n)}catch(q){}}}}}};g.addEventListener=function(n,o){if(g.listeners[n]){g.listeners[n].push(o)}else{g.listeners[n]=[o]}};g.generateQueryString=function(o){if(!o){return""}if(!(o instanceof Object)){return new String(o).toString()}var p=[];var n=function(u,t){if(u===null){return}else{if(u instanceof Array){var r=0;for(var q in u){var s=(t?t:"")+"["+r+"]";r+=1;if(!u.hasOwnProperty(q)){continue}n(u[q],s)}}else{if(u instanceof Object){for(var q in u){if(!u.hasOwnProperty(q)){continue}var s=q;if(t){s=t+"["+q+"]"}n(u[q],s)}}else{p.push(encodeURIComponent(t)+"="+encodeURIComponent(u))}}}};n(o);return p.join("&").replace("%20","+")};g.generateMultipartString=function(o,q){if(typeof o==="string"){return""}var p="";for(var n in o){if(!o.hasOwnProperty(n)){continue}if(o[n]===null){continue}p+="--"+q+"\r\n";p+='Content-Disposition: form-data; name="'+n.replace('"','\\"')+'"\r\n\r\n';p+=o[n].toString()+"\r\n"}return p};g.generateURI=function(o,n){var p="";if(o.indexOf("?")!==-1){p+=o.split("?")[1]+"&";o=o.split("?")[0]}p+=this.generateQueryString(n)+"&";p=p.substring(0,p.length-1);return o+(p?"?"+p:"")};g.disabledModule=function(n,o){var p="The '"+o+"' module is disabled for this app, enable it in your app config and rebuild in order to use this function";l.logging.error(p);n&&n({message:p,type:"UNAVAILABLE",subtype:"DISABLED_MODULE"})};l.enableDebug=function(){g.debug=true;g.priv.call("internal.showDebugWarning",{},null,null);g.priv.call("internal.hideDebugWarning",{},null,null)};setTimeout(function(){if(window.forge&&window.forge.debug){alert("Warning!\n\n'forge.debug = true;' is no longer supported\n\nUse 'forge.enableDebug();' instead.")}},3000);l.barcode={scan:function(o,n){g.disabledModule(n,"barcode")}};l.button={setIcon:function(o,p,n){g.disabledModule(n,"button")},setURL:function(o,p,n){g.disabledModule(n,"button")},onClicked:{addListener:function(n){g.disabledModule(error,"button")}},setBadge:function(o,p,n){g.disabledModule(n,"button")},setBadgeBackgroundColor:function(o,p,n){g.disabledModule(n,"button")},setTitle:function(p,o,n){g.disabledModule(n,"button")}};l.contact={select:function(o,n){g.priv.call("contact.select",{},o,n)},selectById:function(p,o,n){g.priv.call("contact.selectById",{id:p},o,n)},selectAll:function(o,n){g.priv.call("contact.selectAll",{},o,n)}};l.display={orientation:{forcePortrait:function(o,n){g.disabledModule(n,"display")},forceLandscape:function(o,n){g.disabledModule(n,"display")},allowAny:function(o,n){g.disabledModule(n,"display")}}};l.document={reload:function(){return document.location.reload()},location:function(o,n){o(document.location)}};var k={};g.currentOrientation=k;g.currentConnectionState=k;g.addEventListener("internal.orientationChange",function(n){if(g.currentOrientation!=n.orientation){g.currentOrientation=n.orientation;g.priv.receive({event:"event.orientationChange"})}});g.addEventListener("internal.connectionStateChange",function(n){if(n.connected!=g.currentConnectionState.connected||n.wifi!=g.currentConnectionState.wifi){g.currentConnectionState=n;g.priv.receive({event:"event.connectionStateChange"})}});l.event={menuPressed:{addListener:function(o,n){g.disabledModule(n,"event")}},backPressed:{addListener:function(o,n){g.disabledModule(n,"event")},preventDefault:function(o,n){g.disabledModule(n,"event")}},messagePushed:{addListener:function(o,n){g.disabledModule(n,"event")}},orientationChange:{addListener:function(o,n){g.disabledModule(n,"event")}},connectionStateChange:{addListener:function(o,n){g.disabledModule(n,"event")}},appPaused:{addListener:function(o,n){g.disabledModule(n,"event")}},appResumed:{addListener:function(o,n){g.disabledModule(n,"event")}}};l.facebook={authorize:function(p,o,q,n){if(typeof p=="function"){n=o;q=p;p=[];o=undefined}else{if(typeof o==="function"){n=q;q=o;o=undefined}}g.disabledModule(n,"facebook")},hasAuthorized:function(o,p,n){if(typeof o=="function"){n=audience;p=o;o=[];audience=undefined}else{if(typeof audience==="function"){n=p;p=audience;audience=undefined}}g.disabledModule(n,"facebook")},logout:function(o,n){g.disabledModule(n,"facebook")},api:function(o,r,q,p,n){if(typeof r=="function"||arguments.length==1){n=q}else{if(typeof q=="function"||arguments.length==2){n=p}}g.disabledModule(n,"facebook")},ui:function(p,o,n){g.disabledModule(n,"facebook")}};l.file={getImage:function(o,p,n){if(typeof o==="function"){n=p;p=o;o={}}if(!o){o={}}g.priv.call("file.getImage",o,p&&function(r){var q={uri:r,name:"Image",type:"image"};if(o.width){q.width=o.width}if(o.height){q.height=o.height}p(q)},n)},getVideo:function(o,p,n){if(typeof o==="function"){n=p;p=o;o={}}if(!o){o={}}g.priv.call("file.getVideo",o,p&&function(r){var q={uri:r,name:"Video",type:"video"};p(q)},n)},getLocal:function(o,p,n){l.tools.getURL(o,function(q){p({uri:q,name:o})},n)},base64:function(o,p,n){g.priv.call("file.base64",o,p,n)},string:function(o,p,n){l.request.ajax({url:o.uri,success:p,error:n})},URL:function(p,q,r,o){if(typeof q==="function"){o=r;r=q}var n={};for(prop in p){n[prop]=p[prop]}n.height=q.height||p.height||undefined;n.width=q.width||p.width||undefined;g.priv.call("file.URL",n,r,o)},isFile:function(o,p,n){if(!o||!("uri" in o)){p(false)}else{g.priv.call("file.isFile",o,p,n)}},cacheURL:function(o,p,n){g.priv.call("file.cacheURL",{url:o},p&&function(q){p({uri:q})},n)},remove:function(o,p,n){g.priv.call("file.remove",o,p,n)},clearCache:function(o,n){g.priv.call("file.clearCache",{},o,n)}};l.file["getLocal"]=function(o,p,n){g.priv.call("file.getLocal",{name:o},p,n)};l.file["string"]=function(o,p,n){g.priv.call("file.string",o,p,n)};l.flurry={customEvent:function(o,p,q,n){if(typeof p==="function"){n=q;q=p}g.disabledModule(n,"flurry")},startTimedEvent:function(o,p,q,n){if(typeof p==="function"){n=q;q=p}g.disabledModule(n,"flurry")},endCustomEvent:function(o,p,n){g.disabledModule(n,"flurry")},setDemographics:function(o,p,n){g.disabledModule(n,"flurry")},setLocation:function(o,p,n){g.disabledModule(n,"flurry")}};l.geolocation={getCurrentPosition:function(q,p,r){if(typeof(q)==="object"){var o=q,s=p,n=r}else{var s=q,n=p,o=r}g.disabledModule(n,"geolocation")}};l.internal={ping:function(o,p,n){g.priv.call("internal.ping",{data:[o]},p,n)},call:g.priv.call,addEventListener:g.addEventListener};l.is={mobile:function(){return false},desktop:function(){return false},android:function(){return false},ios:function(){return false},chrome:function(){return false},firefox:function(){return false},safari:function(){return false},ie:function(){return false},web:function(){return false},orientation:{portrait:function(){return false},landscape:function(){return false}},connection:{connected:function(){return true},wifi:function(){return true}}};l.is["mobile"]=function(){return true};l.is["android"]=function(){return true};l.is["orientation"]["portrait"]=function(){return g.currentOrientation=="portrait"};l.is["orientation"]["landscape"]=function(){return g.currentOrientation=="landscape"};l.is["connection"]["connected"]=function(){return g.currentConnectionState.connected};l.is["connection"]["wifi"]=function(){return g.currentConnectionState.wifi};l.launchimage={hide:function(o,n){g.priv.call("launchimage.hide",{},o,n)}};window.addEventListener("load",function(){l.launchimage.hide()},false);var d=function(t,r,u){var p=[];stylize=function(w,v){return w};function n(v){return v instanceof RegExp||(typeof v==="object"&&Object.prototype.toString.call(v)==="[object RegExp]")}function o(v){return v instanceof Array||Array.isArray(v)||(v&&v!==Object.prototype&&o(v.__proto__))}function q(x){if(x instanceof Date){return true}if(typeof x!=="object"){return false}var v=Date.prototype&&Object.getOwnPropertyNames(Date.prototype);var w=x.__proto__&&Object.getOwnPropertyNames(x.__proto__);return JSON.stringify(w)===JSON.stringify(v)}function s(H,E){try{if(H&&typeof H.inspect==="function"&&!(H.constructor&&H.constructor.prototype===H)){return H.inspect(E)}switch(typeof H){case"undefined":return stylize("undefined","undefined");case"string":var v="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(v,"string");case"number":return stylize(""+H,"number");case"boolean":return stylize(""+H,"boolean")}if(H===null){return stylize("null","null")}if(H instanceof Document){return(new XMLSerializer()).serializeToString(H)}var B=Object.keys(H);var I=r?Object.getOwnPropertyNames(H):B;if(typeof H==="function"&&I.length===0){var w=H.name?": "+H.name:"";return stylize("[Function"+w+"]","special")}if(n(H)&&I.length===0){return stylize(""+H,"regexp")}if(q(H)&&I.length===0){return stylize(H.toUTCString(),"date")}var x,F,C;if(o(H)){F="Array";C=["[","]"]}else{F="Object";C=["{","}"]}if(typeof H==="function"){var A=H.name?": "+H.name:"";x=" [Function"+A+"]"}else{x=""}if(n(H)){x=" "+H}if(q(H)){x=" "+H.toUTCString()}if(I.length===0){return C[0]+x+C[1]}if(E<0){if(n(H)){return stylize(""+H,"regexp")}else{return stylize("[Object]","special")}}p.push(H);var z=I.map(function(K){var J,L;if(H.__lookupGetter__){if(H.__lookupGetter__(K)){if(H.__lookupSetter__(K)){L=stylize("[Getter/Setter]","special")}else{L=stylize("[Getter]","special")}}else{if(H.__lookupSetter__(K)){L=stylize("[Setter]","special")}}}if(B.indexOf(K)<0){J="["+K+"]"}if(!L){if(p.indexOf(H[K])<0){if(E===null){L=s(H[K])}else{L=s(H[K],E-1)}if(L.indexOf("\n")>-1){if(o(H)){L=L.split("\n").map(function(M){return"  "+M}).join("\n").substr(2)}else{L="\n"+L.split("\n").map(function(M){return"   "+M}).join("\n")}}}else{L=stylize("[Circular]","special")}}if(typeof J==="undefined"){if(F==="Array"&&K.match(/^\d+$/)){return L}J=JSON.stringify(""+K);if(J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){J=J.substr(1,J.length-2);J=stylize(J,"name")}else{J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");J=stylize(J,"string")}}return J+": "+L});p.pop();var G=0;var y=z.reduce(function(J,K){G++;if(K.indexOf("\n")>=0){G++}return J+K.length+1},0);if(y>50){z=C[0]+(x===""?"":x+"\n ")+" "+z.join(",\n  ")+" "+C[1]}else{z=C[0]+x+" "+z.join(", ")+" "+C[1]}return z}catch(D){return"[No string representation]"}}return s(t,(typeof u==="undefined"?2:u))};var h=function(o,p){if("logging" in l.config){var n=l.config.logging.marker||"FORGE"}else{var n="FORGE"}o="["+n+"] "+(o.indexOf("\n")===-1?"":"\n")+o;g.priv.call("logging.log",{message:o,level:p});if(typeof console!=="undefined"){switch(p){case 10:if(console.debug!==undefined&&!(console.debug.toString&&console.debug.toString().match("alert"))){console.debug(o)}break;case 30:if(console.warn!==undefined&&!(console.warn.toString&&console.warn.toString().match("alert"))){console.warn(o)}break;case 40:case 50:if(console.error!==undefined&&!(console.error.toString&&console.error.toString().match("alert"))){console.error(o)}break;default:case 20:if(console.info!==undefined&&!(console.info.toString&&console.info.toString().match("alert"))){console.info(o)}break}}};var a=function(n,o){if(n in l.logging.LEVELS){return l.logging.LEVELS[n]}else{l.logging.__logMessage("Unknown configured logging level: "+n);return o}};var b=function(o){var r=function(s){if(s.message){return s.message}else{if(s.description){return s.description}else{return""+s}}};if(o){var q="\nError: "+r(o);try{if(o.lineNumber){q+=" on line number "+o.lineNumber}if(o.fileName){var n=o.fileName;q+=" in file "+n.substr(n.lastIndexOf("/")+1)}}catch(p){}if(o.stack){q+="\r\nStack trace:\r\n"+o.stack}return q}return""};l.logging={LEVELS:{ALL:0,DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50},debug:function(o,n){l.logging.log(o,n,l.logging.LEVELS.DEBUG)},info:function(o,n){l.logging.log(o,n,l.logging.LEVELS.INFO)},warning:function(o,n){l.logging.log(o,n,l.logging.LEVELS.WARNING)},error:function(o,n){l.logging.log(o,n,l.logging.LEVELS.ERROR)},critical:function(o,n){l.logging.log(o,n,l.logging.LEVELS.CRITICAL)},log:function(o,n,r){if(typeof(r)==="undefined"){var r=l.logging.LEVELS.INFO}try{var p=a(l.config.logging.level,l.logging.LEVELS.ALL)}catch(q){var p=l.logging.LEVELS.ALL}if(r>=p){h(d(o,false,10)+b(n),r)}}};l.media={videoPlay:function(o,p,n){if(!o.uri){o={uri:o}}g.priv.call("media.videoPlay",o,p,n)}};l.message={listen:function(o,p,n){g.disabledModule(n,"message")},broadcast:function(o,p,q,n){g.disabledModule(n,"message")},broadcastBackground:function(o,p,q,n){g.disabledModule(n,"message")},toFocussed:function(o,p,q,n){g.disabledModule(n,"message")}};l.notification={create:function(q,p,o,n){g.disabledModule(n,"notification")},setBadgeNumber:function(o,p,n){g.disabledModule(n,"notification")}};l.payments={purchaseProduct:function(o,p,n){g.disabledModule(n,"payments")},restoreTransactions:function(o,n){g.disabledModule(n,"payments")},transactionReceived:{addListener:function(o,n){g.disabledModule(n,"payments")}}};l.prefs={get:function(o,p,n){g.priv.call("prefs.get",{key:o.toString()},p&&function(q){if(q==="undefined"){q=undefined}else{try{q=JSON.parse(q)}catch(r){n({message:r.toString()});return}}p(q)},n)},set:function(o,p,q,n){if(p===undefined){p="undefined"}else{p=JSON.stringify(p)}g.priv.call("prefs.set",{key:o.toString(),value:p},q,n)},keys:function(o,n){g.priv.call("prefs.keys",{},o,n)},all:function(o,n){var o=o&&function(p){for(key in p){if(p[key]==="undefined"){p[key]=undefined}else{p[key]=JSON.parse(p[key])}}o(p)};g.priv.call("prefs.all",{},o,n)},clear:function(o,p,n){g.priv.call("prefs.clear",{key:o.toString()},p,n)},clearAll:function(o,n){g.priv.call("prefs.clearAll",{},o,n)}};l.reload={updateAvailable:function(o,n){g.priv.call("reload.updateAvailable",{},o,n)},update:function(o,n){g.priv.call("reload.update",{},o,n)},applyNow:function(o,n){l.logging.error("reload.applyNow has been disabled, please see docs.trigger.io for more information.");n({message:"reload.applyNow has been disabled, please see docs.trigger.io for more information.",type:"UNAVAILABLE"})},switchStream:function(o,p,n){g.priv.call("reload.switchStream",{streamid:o},p,n)},updateReady:{addListener:function(o,n){g.addEventListener("reload.updateReady",o)}}};l.request={get:function(o,p,n){l.request.ajax({url:o,dataType:"text",success:p&&function(){try{arguments[0]=JSON.parse(arguments[0])}catch(q){}p.apply(this,arguments)},error:n})}};l.request["ajax"]=function(p){var t=(p.files?p.files:null);var C=(p.fileUploadMethod?p.fileUploadMethod:"multipart");var s=(p.url?p.url:null);var u=(p.success?p.success:undefined);var B=(p.error?p.error:undefined);var r=(p.username?p.username:null);var n=(p.password?p.password:null);var G=(p.accepts?p.accepts:["*/*"]);var y=(p.cache?p.cache:false);var E=(p.contentType?p.contentType:null);var H=(p.data?p.data:null);var A=(p.dataType?p.dataType:null);var o=(p.headers?p.headers:{});var v=(p.timeout?p.timeout:60000);var q=(p.type?p.type:"GET");if(typeof G==="string"){G=[G]}var D=null;if(t){q="POST";if(C=="multipart"){D=l.tools.UUID().replace(/-/g,"");H=g.generateMultipartString(H,D);E="multipart/form-data; boundary="+D}else{if(C=="raw"){if(t.length>1){l.logging.warning("Only one file can be uploaded at once with type 'raw'");t=[t[0]]}H=null;E="image/jpg"}}}else{if(q=="GET"){s=g.generateURI(s,H);H=null}else{if(H){H=g.generateQueryString(H);if(!E){E="application/x-www-form-urlencoded"}}}}if(y){y={};y["wm"+Math.random()]=Math.random();s=g.generateURI(s,y)}if(G){o.Accept=G.join(",")}if(E){o["Content-Type"]=E}var z={};if(window._forgeDebug){try{z.id=l.tools.UUID();z.fromUrl=window.location.href;z.reqTime=(new Date()).getTime()/1000;z.method=q;z.data=H;z.url=s;_forgeDebug.wi.NetworkNotify.identifierForInitialRequest(z.id,z.url,{url:z.fromUrl,frameId:0,loaderId:0},[]);_forgeDebug.wi.NetworkNotify.willSendRequest(z.id,z.reqTime,{url:z.url,httpMethod:z.method,httpHeaderFields:{},requestFormData:z.data},{isNull:true})}catch(F){}}var x=false;var w=setTimeout(function(){if(x){return}x=true;if(window._forgeDebug){try{z.respTime=(new Date()).getTime()/1000;z.respText=H;_forgeDebug.wi.NetworkNotify.didReceiveResponse(z.id,z.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Failure",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(z.id,z.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(z.id,z.respTime)}catch(I){}}B&&B({message:"Request timed out",type:"EXPECTED_FAILURE"})},v);g.priv.call("request.ajax",{url:s,username:r,password:n,data:H,headers:o,timeout:v,type:q,boundary:D,files:t,fileUploadMethod:C},function(K){clearTimeout(w);if(x){return}x=true;if(window._forgeDebug){try{z.respTime=(new Date()).getTime()/1000;z.respText=K;_forgeDebug.wi.NetworkNotify.didReceiveResponse(z.id,z.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Success",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(z.id,z.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(z.id,z.respTime)}catch(L){}}try{if(A=="xml"){var J,I;if(window.DOMParser){J=new DOMParser();I=J.parseFromString(K,"text/xml")}else{I=new ActiveXObject("Microsoft.XMLDOM");I.async="false";I.loadXML(K)}K=I}else{if(A=="json"){K=JSON.parse(K)}}}catch(L){}u&&u(K)},function(){clearTimeout(w);if(x){return}x=true;if(window._forgeDebug){try{z.respTime=(new Date()).getTime()/1000;z.respText=H;_forgeDebug.wi.NetworkNotify.didReceiveResponse(z.id,z.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Failure",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(z.id,z.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(z.id,z.respTime)}catch(I){}}B&&B.apply(this,arguments)})};l.sms={send:function(p,o,n){g.disabledModule(n,"sms")}};l.tabbar={show:function(o,n){g.disabledModule(n,"tabbar")},hide:function(o,n){g.disabledModule(n,"tabbar")},addButton:function(p,o,n){g.disabledModule(n,"tabbar")},removeButtons:function(o,n){g.disabledModule(n,"tabbar")},setTint:function(n,p,o){g.disabledModule(o,"tabbar")},setActiveTint:function(n,p,o){g.disabledModule(o,"tabbar")},setInactive:function(o,n){g.disabledModule(n,"tabbar")}};l.tabs={open:function(o,p,q,n){if(typeof p==="function"){n=q;q=p;p=false}g.disabledModule(n,"tabs")},openWithOptions:function(o,p,n){g.disabledModule(n,"tabs")},closeCurrent:function(n){g.disabledModule(n,"tabs")}};l.tools={UUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var o=Math.random()*16|0;var n=p=="x"?o:(o&3|8);return n.toString(16)}).toUpperCase()},getURL:function(o,p,n){g.priv.call("tools.getURL",{name:o.toString()},p,n)}};l.topbar={show:function(o,n){g.disabledModule(n,"topbar")},hide:function(o,n){g.disabledModule(n,"topbar")},setTitle:function(p,o,n){g.disabledModule(n,"topbar")},setTitleImage:function(o,p,n){g.disabledModule(n,"topbar")},setTint:function(n,p,o){g.disabledModule(o,"topbar")},addButton:function(o,p,n){g.disabledModule(n,"topbar")},removeButtons:function(o,n){g.disabledModule(n,"topbar")},homePressed:{addListener:function(o,n){g.disabledModule(n,"topbar")}}};l.ui={enhanceInput:function(n,r,p){var q=function(s){if(s.getAttribute("data-forge-fixed")!="yes"&&(s.type=="date"||s.type=="datetime"||s.type=="time")){s.disabled=true;s.addEventListener("touchstart",function(){if(s.type=="date"){l.internal.call("ui.datePicker",{},function(t){s.value=t.year+"-"+t.month+"-"+t.day})}else{if(s.type=="datetime"){l.internal.call("ui.datePicker",{},function(t){l.internal.call("ui.timePicker",{},function(u){s.value=t.year+"-"+t.month+"-"+t.day+" "+u.hour+":"+u.minute})})}else{if(s.type=="time"){l.internal.call("ui.timePicker",{},function(t){s.value=t.hour+":"+t.minute})}}}},false);s.setAttribute("data-forge-fixed","yes")}};var o=document.querySelectorAll(n);for(i=0;i<o.length;i++){q(o[i])}r&&r()},enhanceAllInputs:function(o,n){l.ui["enhanceInput"]('input[type="date"]');l.ui["enhanceInput"]('input[type="datetime"]');l.ui["enhanceInput"]('input[type="time"]');o&&o()}};l.urlhandler={urlLoaded:{addListener:function(o,n){g.disabledModule(n,"urlhandler")}}};g.priv.send=function(o){if(window.__forge["callJavaFromJavaScript"]===undefined){return}var n=((o.params!==undefined)?JSON.stringify(o.params):"");window.__forge["callJavaFromJavaScript"](o.callid,o.method,n)};g.priv.get=function(){var n=JSON.parse(window.__forge["getObjects"]());n.forEach(function(o){g.priv.receive(o)})};g.priv.get();l._get=g.priv.get;window.forge=l;window.forge["reload"]={updateAvailable:l.reload.updateAvailable,update:l.reload.update,applyNow:l.reload.applyNow,switchStream:l.reload.switchStream,updateReady:{addListener:l.reload.updateReady.addListener}};window.forge["ajax"]=l.request.ajax;window.forge["getPage"]=l.request.get;window.forge["createNotification"]=l.notification.create;window.forge["UUID"]=l.tools.UUID;window.forge["getURL"]=l.tools.getURL;window.forge["log"]=l.logging.log;window.forge["button"]["setUrl"]=l.button.setURL;window.forge["button"]["setBadgeText"]=l.button.setBadge;window.forge["file"]["delete"]=l.file.remove;window.forge["file"]["imageURL"]=l.file.URL})();